"use strict";(self.webpackChunkseatunnel_website=self.webpackChunkseatunnel_website||[]).push([[22107],{15680:(e,n,t)=>{t.d(n,{xA:()=>s,yg:()=>m});var r=t(96540);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function c(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var l=r.createContext({}),d=function(e){var n=r.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):a(a({},n),e)),t},s=function(e){var n=d(e.components);return r.createElement(l.Provider,{value:n},e.children)},p="mdxType",u={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},y=r.forwardRef((function(e,n){var t=e.components,o=e.mdxType,i=e.originalType,l=e.parentName,s=c(e,["components","mdxType","originalType","parentName"]),p=d(t),y=o,m=p["".concat(l,".").concat(y)]||p[y]||u[y]||i;return t?r.createElement(m,a(a({ref:n},s),{},{components:t})):r.createElement(m,a({ref:n},s))}));function m(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var i=t.length,a=new Array(i);a[0]=y;var c={};for(var l in n)hasOwnProperty.call(n,l)&&(c[l]=n[l]);c.originalType=e,c[p]="string"==typeof e?e:o,a[1]=c;for(var d=2;d<i;d++)a[d]=t[d];return r.createElement.apply(null,a)}return r.createElement.apply(null,t)}y.displayName="MDXCreateElement"},78732:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>u,frontMatter:()=>i,metadata:()=>c,toc:()=>d});var r=t(58168),o=(t(96540),t(15680));const i={},a="Connector Isolated Dependency Loading Mechanism",c={unversionedId:"connector-v2/connector-isolated-dependency",id:"connector-v2/connector-isolated-dependency",title:"Connector Isolated Dependency Loading Mechanism",description:"SeaTunnel provides an isolated dependency loading mechanism for each connector, making it easier for users to manage individual dependencies for different connectors, while avoiding dependency conflicts and improving system extensibility.",source:"@site/docs/connector-v2/connector-isolated-dependency.md",sourceDirName:"connector-v2",slug:"/connector-v2/connector-isolated-dependency",permalink:"/docs/connector-v2/connector-isolated-dependency",draft:!1,editUrl:"https://github.com/apache/seatunnel-website/edit/main/docs/connector-v2/connector-isolated-dependency.md",tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"Sink Common Options",permalink:"/docs/connector-v2/sink-common-options"},next:{title:"Error Quick Reference Manual",permalink:"/docs/connector-v2/Error-Quick-Reference-Manual"}},l={},d=[{value:"Principle",id:"principle",level:2},{value:"Directory Structure Example",id:"directory-structure-example",level:2},{value:"Limitations",id:"limitations",level:2},{value:"Verification",id:"verification",level:2}],s={toc:d},p="wrapper";function u(e){let{components:n,...t}=e;return(0,o.yg)(p,(0,r.A)({},s,t,{components:n,mdxType:"MDXLayout"}),(0,o.yg)("h1",{id:"connector-isolated-dependency-loading-mechanism"},"Connector Isolated Dependency Loading Mechanism"),(0,o.yg)("p",null,"SeaTunnel provides an isolated dependency loading mechanism for each connector, making it easier for users to manage individual dependencies for different connectors, while avoiding dependency conflicts and improving system extensibility.\nWhen loading a connector, SeaTunnel will search for and load the connector's own dependency jars from the ",(0,o.yg)("inlineCode",{parentName:"p"},"${SEATUNNEL_HOME}/plugins/connector-xxx")," directory. This ensures that the dependencies required by different connectors do not interfere with each other, which is helpful for managing a large number of connectors in complex environments."),(0,o.yg)("h2",{id:"principle"},"Principle"),(0,o.yg)("p",null,"Each connector needs to place its own dependency jars in a dedicated subdirectory under ",(0,o.yg)("inlineCode",{parentName:"p"},"${SEATUNNEL_HOME}/plugins/connector-xxx")," (manual creation required).\nThe subdirectory name is specified by the value in the ",(0,o.yg)("inlineCode",{parentName:"p"},"plugin-mapping")," file. When SeaTunnel starts and loads connectors, it will only load jars from the corresponding directory, thus achieving dependency isolation."),(0,o.yg)("p",null,"Currently, the Zeta engine ensures that jars for different connectors in the same job are loaded separately. The other two engines still load all connector dependency jars together, so placing different versions of jars for the same job in Spark/Flink environments may cause dependency conflicts."),(0,o.yg)("h2",{id:"directory-structure-example"},"Directory Structure Example"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Use ",(0,o.yg)("inlineCode",{parentName:"li"},"${SEATUNNEL_HOME}/connectors/plugin-mapping.properties")," to get the folder name for each connector.")),(0,o.yg)("p",null,"For example, for AmazonDynamodb, suppose the following configuration exists in the ",(0,o.yg)("inlineCode",{parentName:"p"},"plugin-mapping")," file:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre"},"seatunnel.source.AmazonDynamodb = connector-amazondynamodb\n")),(0,o.yg)("p",null,"The corresponding connector dependency directory is the value ",(0,o.yg)("inlineCode",{parentName:"p"},"connector-amazondynamodb"),"."),(0,o.yg)("p",null,"The final directory structure is as follows:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre"},"SEATUNNEL_HOME/\n  plugins/\n    connector-amazondynamodb/\n      dependency1.jar\n      dependency2.jar\n    connector-xxx/\n      dependencyA.jar\n      dependencyB.jar\n")),(0,o.yg)("h2",{id:"limitations"},"Limitations"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"For the Zeta engine, please ensure that the ",(0,o.yg)("inlineCode",{parentName:"li"},"${SEATUNNEL_HOME}/plugins/connector-xxx")," directory structure is consistent across all nodes. Each node must contain the same subdirectories and dependency jars."),(0,o.yg)("li",{parentName:"ul"},"Any directory or jar that does not start with ",(0,o.yg)("inlineCode",{parentName:"li"},"connector-")," will be treated as a common dependency directory, and all engines and connectors will load such jars."),(0,o.yg)("li",{parentName:"ul"},"In the Zeta engine, you can achieve shared dependencies for all connectors by placing common jars in the ",(0,o.yg)("inlineCode",{parentName:"li"},"${SEATUNNEL_HOME}/lib/")," directory.")),(0,o.yg)("h2",{id:"verification"},"Verification"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("p",{parentName:"li"},"By checking the job logs, you can confirm that each connector only loads its own dependency jars."),(0,o.yg)("pre",{parentName:"li"},(0,o.yg)("code",{parentName:"pre",className:"language-log"},"2025-08-13T17:55:48.7732601Z [] 2025-08-13 17:55:47,270 INFO  org.apache.seatunnel.plugin.discovery.AbstractPluginDiscovery - find connector jar and dependency for PluginIdentifier{engineType='seatunnel', pluginType='source', pluginName='Jdbc'}: [file:/tmp/seatunnel/plugins/Jdbc/lib/vertica-jdbc-12.0.3-0.jar, file:/tmp/seatunnel/connectors/connector-jdbc-2.3.12-SNAPSHOT-2.12.15.jar]\n")))))}u.isMDXComponent=!0}}]);